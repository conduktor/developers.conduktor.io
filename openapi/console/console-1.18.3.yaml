openapi: 3.0.3
info:
  title: Conduktor Public API
  version: 0.0.1-SNAPSHOT
  summary: The public API to interact with Conduktor platform.
  contact:
    email: contact@conduktor.io
    url: https://docs.conduktor.io
tags:
- name: Introduction
  description: |-
    Conduktor enables you to accelerate time-to-market and boost the productivity of teams interacting with Kafka through a centralized interface. All Kafka providers are supported including Confluent, AWS MSK, Aiven and open-source Apache Kafka.

    Get started with Conduktor [self-hosted](https://docs.conduktor.io/platform/installation/get-started/docker/) today. Setup takes only a few minutes.
- name: Description
  description: |-
    The Conduktor REST API can be used to manage your Conduktor organizations Users, Groups and their associated Permissions. Additionally, it can be used to interact with Kafka resources that are added to your organization such as Clusters and Certificates.

    The APIs have predictable resource-oriented URLs. All requests and responses are in JSON and should have their `content-type` header set to `application/json`
- name: Beta Access
  description: Please note that access to the API is currently in Beta. As we collect
    feedback around usage, it is possible that the API will change. We intend to work
    closely with customers and will give due warning of any potential changes.
- name: Authentication
  description: Authentication to the API requires a token set in the **authorization**
    header. This token can be generated from within the Admin > API Keys section of
    your Conduktor deployment.
paths:
  /public/v1/groups:
    get:
      tags:
      - groups
      description: Return all groups of an organization
      operationId: List all groups
      responses:
        '200':
          description: The list of groups
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PublicGroupResponse'
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/groups' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    post:
      tags:
      - groups
      description: Create a new group in the organization
      operationId: Create a group
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PublicCreateGroupRequest'
            example:
              name: Data engineering
              description: Data department.
              groupId: data-engineering
              externalGroups:
              - data
              - dataeng
        required: true
      responses:
        '201':
          description: ''
        '400':
          description: 'Invalid value for: body'
          content:
            text/plain:
              schema:
                type: string
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request POST \
            --url 'http://localhost:8080/public/v1/groups' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"name":"Data engineering","description":"Data department.","groupId":"data-engineering","externalGroups":["data","dataeng"]}' \
            --location \
            --max-redirs 32
  /public/v1/groups/{groupId}:
    get:
      tags:
      - groups
      description: Return a group by id with its users
      operationId: Get a group
      parameters:
      - name: groupId
        in: path
        description: id of the group
        required: true
        schema:
          type: string
          pattern: ^[0-9a-z\_-]+$
      responses:
        '200':
          description: The group matching the given slug
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PublicGroupResponse'
        '400':
          description: 'Invalid value for: path parameter groupId'
          content:
            text/plain:
              schema:
                type: string
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No group found with this slug
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No group found with this slug
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/groups/data-engineering' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    put:
      tags:
      - groups
      description: Create or update a group in the organization
      operationId: Create or update a group
      parameters:
      - name: groupId
        in: path
        description: id of the group
        required: true
        schema:
          type: string
          pattern: ^[0-9a-z\_-]+$
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateGroupRequest'
            example:
              name: Data engineering
              description: Data department.
              externalGroups:
              - data
              - dataeng
        required: true
      responses:
        '200':
          description: ''
        '400':
          description: 'Invalid value for: path parameter groupId, Invalid value for:
            body'
          content:
            text/plain:
              schema:
                type: string
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request PUT \
            --url 'http://localhost:8080/public/v1/groups/data-engineering' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"name":"Data engineering","description":"Data department.","externalGroups":["data","dataeng"]}' \
            --location \
            --max-redirs 32
    delete:
      tags:
      - groups
      description: Delete a group from the organization
      operationId: Delete a Group
      parameters:
      - name: groupId
        in: path
        description: id of the group
        required: true
        schema:
          type: string
          pattern: ^[0-9a-z\_-]+$
      responses:
        '204':
          description: The group was deleted
        '400':
          description: 'Invalid value for: path parameter groupId'
          content:
            text/plain:
              schema:
                type: string
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: The searched entity was not found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: The searched entity was not found
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request DELETE \
            --url 'http://localhost:8080/public/v1/groups/data-engineering' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/groups/{groupId}/users/{userId}:
    put:
      tags:
      - groups
      description: Add a user to a group
      operationId: Add User To Group
      parameters:
      - name: groupId
        in: path
        description: id of the group
        required: true
        schema:
          type: string
          pattern: ^[0-9a-z\_-]+$
      - name: userId
        in: path
        required: true
        schema:
          type: integer
          format: int32
      responses:
        '200':
          description: ''
        '400':
          description: 'Invalid value for: path parameter groupId, Invalid value for:
            path parameter userId'
          content:
            text/plain:
              schema:
                type: string
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request PUT \
            --url 'http://localhost:8080/public/v1/groups/data-engineering/users/42' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    delete:
      tags:
      - groups
      description: Remove a user from a group
      operationId: Remove User To Group
      parameters:
      - name: groupId
        in: path
        description: id of the group
        required: true
        schema:
          type: string
          pattern: ^[0-9a-z\_-]+$
      - name: userId
        in: path
        required: true
        schema:
          type: integer
          format: int32
      responses:
        '200':
          description: ''
        '400':
          description: 'Invalid value for: path parameter groupId, Invalid value for:
            path parameter userId'
          content:
            text/plain:
              schema:
                type: string
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request DELETE \
            --url 'http://localhost:8080/public/v1/groups/data-engineering/users/42' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/groups/{groupId}/permissions:
    get:
      tags:
      - groups
      description: Get group's permissions
      operationId: Get permissions
      parameters:
      - name: groupId
        in: path
        description: id of the group
        required: true
        schema:
          type: string
          pattern: ^[0-9a-z\_-]+$
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ResourcePermissions'
              example:
              - resourceType: Topic
                clusterId: my-cluster
                topicPattern: finance-*
                permissions:
                - topicCreate
                - topicDelete
        '400':
          description: 'Invalid value for: path parameter groupId'
          content:
            text/plain:
              schema:
                type: string
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No group found with this email
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No group found with this email
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/groups/data-engineering/permissions' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    put:
      tags:
      - groups
      description: Set permissions to group
      operationId: Set permissions
      parameters:
      - name: groupId
        in: path
        description: id of the group
        required: true
        schema:
          type: string
          pattern: ^[0-9a-z\_-]+$
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/ResourcePermissions'
            example:
            - resourceType: Topic
              clusterId: my-cluster
              topicPattern: finance-*
              permissions:
              - topicCreate
              - topicDelete
        required: false
      responses:
        '204':
          description: ''
        '400':
          description: The request is not valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The request is not valid
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No group found with this slug
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No group found with this slug
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request PUT \
            --url 'http://localhost:8080/public/v1/groups/data-engineering/permissions' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '[{"resourceType":"Topic","clusterId":"my-cluster","topicPattern":"finance-*","permissions":["topicCreate","topicDelete"]}]' \
            --location \
            --max-redirs 32
    delete:
      tags:
      - groups
      description: Delete group's permissions
      operationId: Delete permissions
      parameters:
      - name: groupId
        in: path
        description: id of the group
        required: true
        schema:
          type: string
          pattern: ^[0-9a-z\_-]+$
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/ResourcePermissions'
            example:
            - resourceType: Topic
              clusterId: my-cluster
              topicPattern: finance-*
              permissions:
              - topicCreate
              - topicDelete
        required: false
      responses:
        '204':
          description: ''
        '400':
          description: The request is not valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The request is not valid
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No group found with this slug
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No group found with this slug
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request DELETE \
            --url 'http://localhost:8080/public/v1/groups/data-engineering/permissions' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '[{"resourceType":"Topic","clusterId":"my-cluster","topicPattern":"finance-*","permissions":["topicCreate","topicDelete"]}]' \
            --location \
            --max-redirs 32
    patch:
      tags:
      - groups
      description: Add permissions to group
      operationId: Add permissions
      parameters:
      - name: groupId
        in: path
        description: id of the group
        required: true
        schema:
          type: string
          pattern: ^[0-9a-z\_-]+$
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/ResourcePermissions'
            example:
            - resourceType: Topic
              clusterId: my-cluster
              topicPattern: finance-*
              permissions:
              - topicCreate
              - topicDelete
        required: false
      responses:
        '204':
          description: ''
        '400':
          description: The request is not valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The request is not valid
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No group found with this email
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No group found with this email
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request PATCH \
            --url 'http://localhost:8080/public/v1/groups/data-engineering/permissions' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '[{"resourceType":"Topic","clusterId":"my-cluster","topicPattern":"finance-*","permissions":["topicCreate","topicDelete"]}]' \
            --location \
            --max-redirs 32
  /public/v1/groups/{groupId}/permissions/all:
    delete:
      tags:
      - groups
      description: Delete all user's permissions
      operationId: Delete all permissions
      parameters:
      - name: groupId
        in: path
        description: id of the group
        required: true
        schema:
          type: string
          pattern: ^[0-9a-z\_-]+$
      responses:
        '204':
          description: ''
        '400':
          description: The request is not valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The request is not valid
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No group found with this slug
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No group found with this slug
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request DELETE \
            --url 'http://localhost:8080/public/v1/groups/data-engineering/permissions/all' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}:
    get:
      tags:
      - clusters
      description: Get cluster from its technical id
      operationId: Get a cluster
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
          pattern: ^[0-9a-z\-]+$
      responses:
        '200':
          description: The cluster
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PublicSharedClusterResponse'
        '400':
          description: 'Invalid value for: path parameter technicalId'
          content:
            text/plain:
              schema:
                type: string
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    put:
      tags:
      - clusters
      description: |2

        Create or update a cluster inside the organization
        The technical is mandatory. if it matches an existing cluster, it will be updated, otherwise it will be created.
        The slugs of the kafka connects must be unique within the cluster.
      operationId: Create or update a cluster
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
          pattern: ^[0-9a-z\-]+$
      requestBody:
        description: The cluster to create or update
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpsertSharedClusterRequest'
            examples:
              Simple Kafka cluster:
                value:
                  name: My Kafka cluster
                  bootstrapServers: broker1:9092, broker2:9092
                  ignoreUntrustedCertificate: false
              Simple Kafka cluster with UI config:
                value:
                  name: My Kafka cluster
                  bootstrapServers: broker1:9092, broker2:9092
                  color: '#000000'
                  icon: icon
                  ignoreUntrustedCertificate: false
              Kafka cluster with properties:
                value:
                  name: My Kafka cluster
                  bootstrapServers: broker1:9092, broker2:9092
                  properties: |2

                    security.protocol=SSL
                    ssl.truststore.location=/etc/kafka/secrets/kafka.truststore.jks
                    ssl.truststore.password=conduktor
                    ssl.keystore.location=/etc/kafka/secrets/kafka.keystore.jks
                    ssl.keystore.password=conduktor
                  ignoreUntrustedCertificate: false
              Kafka cluster with a Schema Registry:
                value:
                  name: My Kafka cluster
                  bootstrapServers: broker1:9092, broker2:9092
                  schemaRegistry:
                    url: https://schema-registry:8081
                    security:
                      key: key
                      certificateChain: certificateChain
                      type: SSLAuth
                    properties: |2

                      schema.registry.ssl.truststore.location=/etc/kafka/secrets/kafka.truststore.jks
                      schema.registry.ssl.truststore.password=conduktor
                      schema.registry.ssl.keystore.location=/etc/kafka/secrets/kafka.keystore.jks
                      schema.registry.ssl.keystore.password=conduktor
                    ignoreUntrustedCertificate: false
                    type: ConfluentLikeSchemaRegistryRequest
                  ignoreUntrustedCertificate: false
              Kafka cluster with Kafka Connect:
                value:
                  name: My Kafka cluster
                  bootstrapServers: broker1:9092, broker2:9092
                  kafkaConnects:
                  - url: http://kafka-connect:8083
                    slug: kafka-connect
                    name: kafka-connect
                    security:
                      key: key
                      certificateChain: certificateChain
                      type: KafkaConnectSSLAuth
                    headers: |2

                      "transforms": "insertAppIdHeader",
                      "transforms.insertAppIdHeader.type": "org.apache.kafka.connect.transforms.InsertHeader",
                      "transforms.insertAppIdHeader.header": "app.id",
                      "transforms.insertAppIdHeader.value.literal": "best-app-ever"
                    ignoreUntrustedCertificate: false
                  ignoreUntrustedCertificate: false
        required: true
      responses:
        '200':
          description: The created or updated cluster
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PublicSharedClusterResponse'
        '400':
          description: The request is not valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The request is not valid
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request PUT \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"name":"My Kafka cluster","bootstrapServers":"broker1:9092, broker2:9092","properties":"\nsecurity.protocol=SSL\nssl.truststore.location=/etc/kafka/secrets/kafka.truststore.jks\nssl.truststore.password=conduktor\nssl.keystore.location=/etc/kafka/secrets/kafka.keystore.jks\nssl.keystore.password=conduktor\n","color":null,"icon":null,"schemaRegistry":null,"kafkaConnects":null,"ignoreUntrustedCertificate":false,"amazonSecurity":null,"kafkaFlavor":null}' \
            --location \
            --max-redirs 32
    delete:
      tags:
      - clusters
      operationId: Delete a cluster
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
          pattern: ^[0-9a-z\-]+$
      responses:
        '204':
          description: The cluster has been deleted
        '400':
          description: 'Invalid value for: path parameter technicalId'
          content:
            text/plain:
              schema:
                type: string
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request DELETE \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/clusters:
    get:
      tags:
      - clusters
      description: Get all clusters of the organization
      operationId: List all clusters
      responses:
        '200':
          description: The list of the clusters of the organization
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PublicSharedClusterResponse'
              example:
              - technicalId: silent-hill
                name: My Kafka cluster
                bootstrapServers: broker1:9092, broker2:9092
                kafkaConnects: []
                ignoreUntrustedCertificate: false
                createdAt: '1970-01-01T00:00:00Z'
                updatedAt: '1970-01-01T00:00:00Z'
              - technicalId: silent-hill
                name: My Kafka cluster
                bootstrapServers: broker1:9092, broker2:9092
                properties: |2

                  security.protocol=SSL
                  ssl.truststore.location=/etc/kafka/secrets/kafka.truststore.jks
                  ssl.truststore.password=conduktor
                  ssl.keystore.location=/etc/kafka/secrets/kafka.keystore.jks
                  ssl.keystore.password=conduktor
                kafkaConnects: []
                ignoreUntrustedCertificate: false
                createdAt: '1970-01-01T00:00:00Z'
                updatedAt: '1970-01-01T00:00:00Z'
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/clusters' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/certificates:
    get:
      tags:
      - certificates
      description: List the certificates of the organization
      operationId: List certificates
      responses:
        '200':
          description: The list of certificates of the organization
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DecodedCertificate'
              example:
              - id: 1
                version: 1
                serialNumber: 123
                issuerDN: CN=Test Root CA
                subjectDN: CN=Test Subordinate CA
                notBefore: 1672531200000
                notAfter: 1704067200000
              - id: 2
                version: 1
                serialNumber: 456
                issuerDN: CN=Test Root CA
                subjectDN: CN=Test Subordinate CA
                notBefore: 1672531200000
                notAfter: 1704067200000
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/certificates' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    post:
      tags:
      - certificates
      description: Add one or several certificates from a text input to the organization
      operationId: Add a certificate
      requestBody:
        description: |2

           The certificate(s) as a String to add to the organization.
           * The input field must match the following regex pattern (cf. example): <b>-----BEGIN CERTIFICATE-----(?:[\\s\\S]*?)-----END CERTIFICATE-----</b>
           * The input field must contain a valid x509 certificate (PEM or CRT formats are supported)
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCertificateRequest'
            example:
              input: |-
                -----BEGIN CERTIFICATE-----
                MIIDRjCCAi6gAwIBAgIQbgEc+n3F+Gqe8YQqls+DRDANBgkqhkiG9w0BAQsFADAX
                MRUwEwYDVQQDDAxUZXN0IFJvb3QgQ0EwHhcNMjIxMDI0MTk1OTUyWhcNMzIxMDIx
                MTk1OTUyWjAeMRwwGgYDVQQDDBNUZXN0IFN1Ym9yZGluYXRlIENBMIIBIjANBgkq
                hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAr4XNztsNyAaewOH9QkrpQWkT78FYg7Ke
                j/C2vfzwVb8d/IVP6L8bKIA5/lGlQb5fWEB0AQnlRYVxQyVkycRGpPN3mAzfsD0g
                v786pDxxkKAeXMFup+Pc6vRDA+kJ6ok6JcrjhJr+9mBrRCVP6hlUswlQnR2fiYGG
                Z4A0VYQu9u2gPwsIBuTBNI9vH6+cKdjdWZIJ4+XJNJ8ohbr8URDa7g3pEIHr71kk
                L5mabsB4KLPm0l3W6mu6QTYXn51NAvTMtDx9XCEThNqLammls0xio9Qpp7gxI1QY
                huKwNkSz2a50HbhR2kbjSlUw+ugqHBLajB9RwhRtJJT4oF7/V1ZOzQIDAQABo4GG
                MIGDMB8GA1UdIwQYMBaAFDpynTg8PcVyv8i1s4qxgQlIT1EhMBIGA1UdEwEB/wQI
                MAYBAf8CAQAwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMBMA4GA1UdDwEB
                /wQEAwIBBjAdBgNVHQ4EFgQUbFpG1G+/QTgbgEa8nRc75m1b2TwwDQYJKoZIhvcN
                AQELBQADggEBAEfcOpW/VZjlYdClTBVDi8bpMfs3AN+gFouetPMddEXJPJ6xm7My
                a5+rmXdLX+l5ThsNkFQ5+UOXu7PBtpgQfn7W1q2el2oDgg2uc0I0f4WFlMyM1N9z
                YkN80/7S5g3n2bbkAWjhyx2b/zh73ChM/rbLGKlsjz+mRIJzI7DXcEwVNJjRMUtG
                xxp9PBMZ7uZyoyHru592oaX9Ehm6UDpBDUia8POTENzEz0+9msv0mWbYCzOBKupc
                mnd4jMMbT8MSlANCmqPV8VjbnBKT+lVL7nXSqrxlZ6jb8ZA5I9lHK7XS1sQab574
                UC7flGdjN3Ml05raSgAz3mh7qGhv8iQDMbo=
                -----END CERTIFICATE-----
        required: true
      responses:
        '201':
          description: The certificate(s) added to the organization
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DecodedCertificate'
              example:
              - id: 1
                version: 1
                serialNumber: 123
                issuerDN: CN=Test Root CA
                subjectDN: CN=Test Subordinate CA
                notBefore: 1672531200000
                notAfter: 1704067200000
              - id: 2
                version: 1
                serialNumber: 456
                issuerDN: CN=Test Root CA
                subjectDN: CN=Test Subordinate CA
                notBefore: 1672531200000
                notAfter: 1704067200000
        '400':
          description: |2

             The Json is invalid or the certificate input does not contain a (or several) valid certificate(s):
              * The input field must match the following pattern: <b>-----BEGIN CERTIFICATE-----(?:[\\s\\S]*?)-----END CERTIFICATE-----</b>
              * The input field must contain a valid x509 certificate (PEM or CRT formats are supported)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: |2

                   The Json is invalid or the certificate input does not contain a (or several) valid certificate(s):
                    * The input field must match the following pattern: <b>-----BEGIN CERTIFICATE-----(?:[\\s\\S]*?)-----END CERTIFICATE-----</b>
                    * The input field must contain a valid x509 certificate (PEM or CRT formats are supported)
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request POST \
            --url 'http://localhost:8080/public/v1/certificates' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"input":"-----BEGIN CERTIFICATE-----\nMIIDRjCCAi6gAwIBAgIQbgEc+n3F+Gqe8YQqls+DRDANBgkqhkiG9w0BAQsFADAX\nMRUwEwYDVQQDDAxUZXN0IFJvb3QgQ0EwHhcNMjIxMDI0MTk1OTUyWhcNMzIxMDIx\nMTk1OTUyWjAeMRwwGgYDVQQDDBNUZXN0IFN1Ym9yZGluYXRlIENBMIIBIjANBgkq\nhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAr4XNztsNyAaewOH9QkrpQWkT78FYg7Ke\nj/C2vfzwVb8d/IVP6L8bKIA5/lGlQb5fWEB0AQnlRYVxQyVkycRGpPN3mAzfsD0g\nv786pDxxkKAeXMFup+Pc6vRDA+kJ6ok6JcrjhJr+9mBrRCVP6hlUswlQnR2fiYGG\nZ4A0VYQu9u2gPwsIBuTBNI9vH6+cKdjdWZIJ4+XJNJ8ohbr8URDa7g3pEIHr71kk\nL5mabsB4KLPm0l3W6mu6QTYXn51NAvTMtDx9XCEThNqLammls0xio9Qpp7gxI1QY\nhuKwNkSz2a50HbhR2kbjSlUw+ugqHBLajB9RwhRtJJT4oF7/V1ZOzQIDAQABo4GG\nMIGDMB8GA1UdIwQYMBaAFDpynTg8PcVyv8i1s4qxgQlIT1EhMBIGA1UdEwEB/wQI\nMAYBAf8CAQAwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMBMA4GA1UdDwEB\n/wQEAwIBBjAdBgNVHQ4EFgQUbFpG1G+/QTgbgEa8nRc75m1b2TwwDQYJKoZIhvcN\nAQELBQADggEBAEfcOpW/VZjlYdClTBVDi8bpMfs3AN+gFouetPMddEXJPJ6xm7My\na5+rmXdLX+l5ThsNkFQ5+UOXu7PBtpgQfn7W1q2el2oDgg2uc0I0f4WFlMyM1N9z\nYkN80/7S5g3n2bbkAWjhyx2b/zh73ChM/rbLGKlsjz+mRIJzI7DXcEwVNJjRMUtG\nxxp9PBMZ7uZyoyHru592oaX9Ehm6UDpBDUia8POTENzEz0+9msv0mWbYCzOBKupc\nmnd4jMMbT8MSlANCmqPV8VjbnBKT+lVL7nXSqrxlZ6jb8ZA5I9lHK7XS1sQab574\nUC7flGdjN3Ml05raSgAz3mh7qGhv8iQDMbo=\n-----END CERTIFICATE-----"}' \
            --location \
            --max-redirs 32
    delete:
      tags:
      - certificates
      description: Delete multiple certificates from the organization
      operationId: Delete certificates
      parameters:
      - name: ids
        in: query
        description: The ids of the certificates to delete
        required: true
        schema:
          type: array
          items:
            type: integer
            format: int32
          minItems: 1
        example:
        - 1
        - 2
        - 3
      responses:
        '200':
          description: The list of certificate ids effectively deleted
          content:
            application/json:
              schema:
                type: array
                items:
                  type: integer
                  format: int32
              example:
              - 1
              - 2
              - 3
        '400':
          description: The ids query parameter is invalid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The ids query parameter is invalid
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request DELETE \
            --url 'http://localhost:8080/public/v1/certificates?ids=1&ids=2&ids=3' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/certificates/file:
    post:
      tags:
      - certificates
      description: Import certificates in the organization from a file (.crt, .pem.
        or .jks)
      operationId: Upload a certificate
      requestBody:
        description: |2

          The certificate(s) as a file to add to the organization and the password if the file is in the JKS format.
        content:
          multipart/form-data:
            schema:
              $ref: '#/components/schemas/CreateCertificateFromFileRequest'
        required: true
      responses:
        '201':
          description: The certificate(s) added to the organization
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/DecodedCertificate'
              example:
              - id: 1
                version: 1
                serialNumber: 123
                issuerDN: CN=Test Root CA
                subjectDN: CN=Test Subordinate CA
                notBefore: 1672531200000
                notAfter: 1704067200000
              - id: 2
                version: 1
                serialNumber: 456
                issuerDN: CN=Test Root CA
                subjectDN: CN=Test Subordinate CA
                notBefore: 1672531200000
                notAfter: 1704067200000
        '400':
          description: |2

             The input file is invalid for one of the following reasons:
              * The content is not a valid x509 certificate (PEM, CRT or JKS formats are supported)
              * If the file is in the JKS format the password field is mandatory and a valid password must be provided
              * The file exceeds the maximum size allowed (50MB)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: |2

                   The input file is invalid for one of the following reasons:
                    * The content is not a valid x509 certificate (PEM, CRT or JKS formats are supported)
                    * If the file is in the JKS format the password field is mandatory and a valid password must be provided
                    * The file exceeds the maximum size allowed (50MB)
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request POST \
            --url 'http://localhost:8080/public/v1/certificates/file' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: multipart/form-data' \
            --form 'file=@keystore.jks' \
            --form 'jksPassword=password' \
            --location \
            --max-redirs 32
  /public/v1/certificates/{certificateId}:
    delete:
      tags:
      - certificates
      description: Delete a certificate from the organization
      operationId: Delete a certificate
      parameters:
      - name: certificateId
        in: path
        description: The id of the certificate to delete
        required: true
        schema:
          type: integer
          format: int32
      responses:
        '204':
          description: The certificate has been deleted
        '400':
          description: 'Invalid value for: path parameter certificateId'
          content:
            text/plain:
              schema:
                type: string
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request DELETE \
            --url 'http://localhost:8080/public/v1/certificates/42' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/certificates/tls-test:
    post:
      tags:
      - certificates
      description: Test a tcp target with the organization's certificates (Kafka uses
        the TLS/TCP protocol)
      operationId: TLS check
      requestBody:
        description: ' The connection (host, port) to test with the organization''s
          certificates'
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TlsTestRequest'
            example:
              host: www.google.com
              port: 443
        required: true
      responses:
        '200':
          description: The result of the TLS check
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TlsTestResponse'
              examples:
                The server is authenticated:
                  value:
                    status: checked_certificate
                The server could NOT be authenticated:
                  value:
                    status: unchecked_certificate
                The server is unsecure (not using TLS):
                  value:
                    status: tls_not_supported
                The given url and port could not be reached (timeout 5 seconds):
                  value:
                    status: unreachable_target
                The server is not authenticated (unexpected response):
                  value:
                    status: unexpected_status
        '400':
          description: The input is invalid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The input is invalid
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request POST \
            --url 'http://localhost:8080/public/v1/certificates/tls-test' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"host":"www.google.com","port":443}' \
            --location \
            --max-redirs 32
  /public/v1/users:
    get:
      tags:
      - users
      operationId: Get the list of users
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PublicWithAllDetailsAndGroup'
              example:
              - userId: john.doe@conduktor.io
                firstName: John
                lastName: Doe
                fullName: John Doe
                pictureUrl: https://www.gravatar.com/avatar/123
                phoneNumber: '+33612345678'
                country: France
                platformRole: admin
                groups:
                - name: Admin
                  groupId: admin
              - userId: jane.doe@conduktor.io
                firstName: Jane
                lastName: Doe
                fullName: John Doe
                pictureUrl: https://www.gravatar.com/avatar/123
                phoneNumber: '+33612345678'
                country: France
                platformRole: member
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/users' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    put:
      tags:
      - users
      description: Create or update a user in the organization
      operationId: Update a user
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUserRequest'
            example:
              lastName: Doe
              firstName: John
              email: john.doe@conduktor.io
        required: true
      responses:
        '200':
          description: The user was created or updated
        '400':
          description: 'Invalid value for: body'
          content:
            text/plain:
              schema:
                type: string
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request PUT \
            --url 'http://localhost:8080/public/v1/users' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"lastName":"Doe","firstName":"John","email":"john.doe@conduktor.io"}' \
            --location \
            --max-redirs 32
  /public/v1/users/{email}:
    get:
      tags:
      - users
      description: Get a user by email
      operationId: Get user
      parameters:
      - name: email
        in: path
        description: Email address of user
        required: true
        schema:
          type: string
      responses:
        '200':
          description: The user found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PublicWithAllDetailsAndGroup'
              example:
                userId: john.doe@conduktor.io
                firstName: John
                lastName: Doe
                fullName: John Doe
                pictureUrl: https://www.gravatar.com/avatar/123
                phoneNumber: '+33612345678'
                country: France
                platformRole: admin
                groups:
                - name: Admin
                  groupId: admin
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No user found with this email
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No user found with this email
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/users/john.doe@conduktor.io' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    delete:
      tags:
      - users
      description: Removes a user from the organization
      operationId: Delete a user
      parameters:
      - name: email
        in: path
        description: Email address of user
        required: true
        schema:
          type: string
      responses:
        '204':
          description: The user was deleted
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No user found with this id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No user found with this id
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request DELETE \
            --url 'http://localhost:8080/public/v1/users/john.doe@conduktor.io' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/users/{email}/permissions:
    get:
      tags:
      - users
      description: Get user's permissions
      operationId: Get permissions
      parameters:
      - name: email
        in: path
        description: Email address of user
        required: true
        schema:
          type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserPermissions'
              example:
                user:
                - resourceType: Topic
                  clusterId: my-cluster
                  topicPattern: finance-*
                  permissions:
                  - topicCreate
                  - topicDelete
                groups:
                  '42':
                  - resourceType: Topic
                    clusterId: my-cluster
                    topicPattern: finance-*
                    permissions:
                    - topicRead
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No user found with this email
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No user found with this email
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/users/john.doe@conduktor.io/permissions' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    put:
      tags:
      - users
      description: Set permissions to user
      operationId: Set permissions
      parameters:
      - name: email
        in: path
        description: Email address of user
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/ResourcePermissions'
            example:
            - resourceType: Topic
              clusterId: my-cluster
              topicPattern: finance-*
              permissions:
              - topicCreate
              - topicDelete
        required: false
      responses:
        '204':
          description: ''
        '400':
          description: The request is not valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The request is not valid
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No user found with this email
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No user found with this email
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request PUT \
            --url 'http://localhost:8080/public/v1/users/john.doe@conduktor.io/permissions' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '[{"resourceType":"Topic","clusterId":"my-cluster","topicPattern":"finance-*","permissions":["topicCreate","topicDelete"]}]' \
            --location \
            --max-redirs 32
    delete:
      tags:
      - users
      description: Delete user's permissions
      operationId: Delete permissions
      parameters:
      - name: email
        in: path
        description: Email address of user
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/ResourcePermissions'
            example:
            - resourceType: Topic
              clusterId: my-cluster
              topicPattern: finance-*
              permissions:
              - topicCreate
              - topicDelete
        required: false
      responses:
        '204':
          description: ''
        '400':
          description: The request is not valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The request is not valid
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No user found with this email
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No user found with this email
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request DELETE \
            --url 'http://localhost:8080/public/v1/users/john.doe@conduktor.io/permissions' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '[{"resourceType":"Topic","clusterId":"my-cluster","topicPattern":"finance-*","permissions":["topicCreate","topicDelete"]}]' \
            --location \
            --max-redirs 32
    patch:
      tags:
      - users
      description: Add permissions to user
      operationId: Add permissions
      parameters:
      - name: email
        in: path
        description: Email address of user
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/ResourcePermissions'
            example:
            - resourceType: Topic
              clusterId: my-cluster
              topicPattern: finance-*
              permissions:
              - topicCreate
              - topicDelete
        required: false
      responses:
        '204':
          description: ''
        '400':
          description: The request is not valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The request is not valid
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No user found with this email
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No user found with this email
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request PATCH \
            --url 'http://localhost:8080/public/v1/users/john.doe@conduktor.io/permissions' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '[{"resourceType":"Topic","clusterId":"my-cluster","topicPattern":"finance-*","permissions":["topicCreate","topicDelete"]}]' \
            --location \
            --max-redirs 32
  /public/v1/users/{email}/permissions/all:
    delete:
      tags:
      - users
      description: Delete all user's permissions
      operationId: Delete all permissions
      parameters:
      - name: email
        in: path
        description: Email address of user
        required: true
        schema:
          type: string
      responses:
        '204':
          description: ''
        '400':
          description: The request is not valid
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The request is not valid
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '404':
          description: No user found with this email
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No user found with this email
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request DELETE \
            --url 'http://localhost:8080/public/v1/users/john.doe@conduktor.io/permissions/all' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/service-accounts:
    get:
      tags:
      - service-accounts
      operationId: Get service accounts
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      responses:
        '200':
          description: All service accounts created on the cluster.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AclPrincipal'
              example:
              - type: User
                name: Gertrude
              - type: Group
                name: Data
        '400':
          description: Security disabled on this kafka cluster
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: Security disabled on this kafka cluster
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.clusters.acl.read"
            to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.clusters.acl.read"
                  to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/service-accounts' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    put:
      tags:
      - service-accounts
      operationId: Put acl for a given service account
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AllAclForPrincipal'
            example:
              aclPrincipal:
                type: User
                name: Gertrude
              acls:
              - pattern:
                  resourceType: Topic
                  name: topicB
                  patternType: Literal
                host: '*'
                operationStates:
                  Describe: Allow
        required: true
      responses:
        '200':
          description: ''
        '400':
          description: Security disabled on this kafka cluster
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: Security disabled on this kafka cluster
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.clusters.acl.create,
            kafka.clusters.acl.delete" to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.clusters.acl.create,
                  kafka.clusters.acl.delete" to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request PUT \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/service-accounts' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"aclPrincipal":{"type":"User","name":"Gertrude"},"acls":[{"pattern":{"resourceType":"Topic","name":"topicB","patternType":"Literal"},"host":"*","operationStates":{"Describe":"Allow"}}]}' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/service-accounts-confluent:
    get:
      tags:
      - service-accounts
      operationId: Get Confluent service accounts
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      responses:
        '200':
          description: All service accounts created on a confluent cluster.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ServiceAccount'
              example:
              - resourceId: sa-pg7y0o
                internalId: 675350
                serviceName: my application
                description: my business application
        '400':
          description: This cluster isn't a confluent cluster.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: This cluster isn't a confluent cluster.
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.clusters.acl.read"
            to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.clusters.acl.read"
                  to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '429':
          description: rate limit exceeded on Confluent API
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TooManyRequest'
              example:
                msg: rate limit exceeded on Confluent API
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/service-accounts-confluent' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    post:
      tags:
      - service-accounts
      operationId: Create Confluent service accounts
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      requestBody:
        description: New Confluent service account.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateServiceAccount'
            example:
              name: prod-service-account
              description: my service account.
        required: true
      responses:
        '201':
          description: Create a service accounts.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServiceAccount'
              example:
                resourceId: sa-pg7y0o
                internalId: 675350
                serviceName: my application
                description: my business application
        '400':
          description: This cluster isn't a confluent cluster.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: This cluster isn't a confluent cluster.
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.clusters.acl.create"
            to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.clusters.acl.create"
                  to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '429':
          description: rate limit exceeded on Confluent API
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TooManyRequest'
              example:
                msg: rate limit exceeded on Confluent API
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request POST \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/service-accounts-confluent' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"name":"prod-service-account","description":"my service account."}' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/service-accounts-confluent/{confluentResourceId}/api-keys:
    get:
      tags:
      - service-accounts
      operationId: Get Confluent api keys
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      - name: confluentResourceId
        in: path
        description: Confluent service Account's id
        required: true
        schema:
          type: string
      responses:
        '200':
          description: All confluent's api keys related to a service account.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ApiKey'
              example:
              - key: VJF6UG6VSXYIGY32
                description: my api key.
                createdAt: -1000000000-01-01T00:00:00Z
                secret: R15hoiDIq8Nxu/lY4mPO3DwAVIfU5W7OI+efsB607mLgHTnVW5XJGVqX2ysDx987
        '400':
          description: This cluster isn't a confluent cluster.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: This cluster isn't a confluent cluster.
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.clusters.acl.read"
            to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.clusters.acl.read"
                  to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '429':
          description: rate limit exceeded on Confluent API
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TooManyRequest'
              example:
                msg: rate limit exceeded on Confluent API
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/service-accounts-confluent/sa-pg7y0y/api-keys' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    post:
      tags:
      - service-accounts
      operationId: Create Confluent api keys
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      - name: confluentResourceId
        in: path
        description: Confluent service Account's id
        required: true
        schema:
          type: string
      requestBody:
        description: New Confluent API key.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateApiKey'
            example:
              name: key
              description: my api key.
        required: true
      responses:
        '201':
          description: ''
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiKey'
              example:
                key: VJF6UG6VSXYIGY32
                description: my api key.
                createdAt: -1000000000-01-01T00:00:00Z
                secret: R15hoiDIq8Nxu/lY4mPO3DwAVIfU5W7OI+efsB607mLgHTnVW5XJGVqX2ysDx987
        '400':
          description: This cluster isn't a confluent cluster.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: This cluster isn't a confluent cluster.
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.clusters.acl.create"
            to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.clusters.acl.create"
                  to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '429':
          description: rate limit exceeded on Confluent API
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TooManyRequest'
              example:
                msg: rate limit exceeded on Confluent API
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request POST \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/service-accounts-confluent/sa-pg7y0y/api-keys' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"name":"key","description":"my api key."}' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/service-accounts-aiven:
    get:
      tags:
      - service-accounts
      operationId: Get Aiven service accounts
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      responses:
        '200':
          description: All service accounts created on an Aiven cluster.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: string
              example:
              - example-account
        '400':
          description: This cluster isn't an Aiven cluster.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: This cluster isn't an Aiven cluster.
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.clusters.acl.read"
            to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.clusters.acl.read"
                  to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/service-accounts-aiven' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    post:
      tags:
      - service-accounts
      operationId: Create an Aiven service accounts
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AivenServiceAccountCreateRequest'
        required: true
      responses:
        '201':
          description: Create a service account on an Aiven cluster.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AivenServiceAccountCreateResponse'
        '400':
          description: This cluster isn't an Aiven cluster.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: This cluster isn't an Aiven cluster.
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.clusters.acl.create"
            to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.clusters.acl.create"
                  to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request POST \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/service-accounts-aiven' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"username":"my-service-account"}' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/service-accounts-confluent/{confluentResourceId}/api-keys/{confluentApiKeyId}:
    delete:
      tags:
      - service-accounts
      operationId: Delete Confluent api keys
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      - name: confluentResourceId
        in: path
        description: Confluent service Account's id
        required: true
        schema:
          type: string
      - name: confluentApiKeyId
        in: path
        description: Confluent API key's id
        required: true
        schema:
          type: string
      responses:
        '204':
          description: ''
        '400':
          description: This cluster isn't a confluent cluster.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: This cluster isn't a confluent cluster.
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.clusters.acl.delete"
            to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.clusters.acl.delete"
                  to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '429':
          description: rate limit exceeded on Confluent API
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TooManyRequest'
              example:
                msg: rate limit exceeded on Confluent API
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request DELETE \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/service-accounts-confluent/sa-pg7y0y/api-keys/VJF6UG6VSXYIGY32' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/service-accounts-aiven/{aivenSAUsername}:
    delete:
      tags:
      - service-accounts
      operationId: Delete an Aiven service account
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      - name: aivenSAUsername
        in: path
        description: Aiven's service account username
        required: true
        schema:
          type: string
      responses:
        '204':
          description: ''
        '400':
          description: This cluster isn't an Aiven cluster.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: This cluster isn't an Aiven cluster.
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.clusters.acl.delete"
            to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.clusters.acl.delete"
                  to do this operation
        '404':
          description: No cluster with this technical id exist or no service account
            with this username exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist or no service account
                  with this username exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request DELETE \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/service-accounts-aiven/my-service-account' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/service-accounts-aiven/{AivenSAUsernamePattern}/acl:
    get:
      tags:
      - service-accounts
      operationId: Get Aiven ACLs of a cluster
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      - name: AivenSAUsernamePattern
        in: path
        description: Aiven service account username pattern
        required: true
        schema:
          type: string
      responses:
        '200':
          description: All ACLs created on an Aiven cluster.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AivenListAclResponse'
              example:
                acls:
                - id: acl453f874ec16
                  permission: read
                  topic: topicA
                  username: bob
                - id: acl453f874ec17
                  permission: read
                  topic: topicB
                  username: bob
                schemaRegistryAcls:
                - id: acl453f874ec16
                  permission: read
                  resource: 'Config:'
                  username: bob
                - id: acl453f874ec17
                  permission: write
                  resource: 'Subject: topicA-value'
                  username: bob
        '400':
          description: This cluster isn't an Aiven cluster.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: This cluster isn't an Aiven cluster.
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.clusters.acl.read"
            to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.clusters.acl.read"
                  to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/service-accounts-aiven/my-service-account/acl' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    put:
      tags:
      - service-accounts
      operationId: Create (or update) acls for a given Aiven service account
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      - name: AivenSAUsernamePattern
        in: path
        description: Aiven service account username pattern
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AivenAclsCreateRequest'
            example:
              acls:
              - permission: read
                topic: topicA
              - permission: write
                topic: topicB-*
              schemaRegistryAcls:
              - permission: schema_registry_read
                resource: 'Config:'
              - permission: schema_registry_write
                resource: Subject:topicA-value
        required: true
      responses:
        '200':
          description: ''
        '400':
          description: This cluster isn't an Aiven cluster.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: This cluster isn't an Aiven cluster.
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.clusters.acl.create,
            kafka.clusters.acl.delete" to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.clusters.acl.create,
                  kafka.clusters.acl.delete" to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request PUT \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/service-accounts-aiven/my-username/acl' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"acls":[{"permission":"read","topic":"topicA"},{"permission":"write","topic":"topicB-*"}],"schemaRegistryAcls":[{"permission":"schema_registry_read","resource":"Config:"},{"permission":"schema_registry_write","resource":"Subject:topicA-value"}]}' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/service-accounts/{aclPrincipal}:
    get:
      tags:
      - service-accounts
      operationId: Get acls for a given service account
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      - name: aclPrincipal
        in: path
        description: Kafka ACL principal
        required: true
        schema:
          type: string
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/AclBinding'
              example:
              - pattern:
                  resourceType: Topic
                  name: topicB
                  patternType: Literal
                entry:
                  principal:
                    type: User
                    name: Gertrude
                  host: '*'
                  operation: Read
                  permissionType: Allow
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.clusters.acl.read"
            to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.clusters.acl.read"
                  to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/service-accounts/User:bob' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/interceptors:
    get:
      tags:
      - interceptors
      operationId: Get interceptors
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      responses:
        '200':
          description: All interceptors created on the cluster.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Interceptor'
              example:
              - name: myEncryptionInterceptor
                pluginClass: io.conduktor.gateway.interceptor.EncryptPlugin
                priority: 50
                config:
                  topic: topicName
              - name: myInjectHeaderInterceptor
                pluginClass: io.conduktor.gateway.interceptor.DynamicHeaderInjectionPlugin
                priority: 51
                config:
                  topic: topicName
              - name: myInjectHeaderInterceptor
                pluginClass: io.conduktor.gateway.interceptor.DynamicHeaderInjectionPlugin
                priority: 52
                config:
                  topic: topicName
        '400':
          description: The cluster is not a valid gateway cluster
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The cluster is not a valid gateway cluster
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have sufficient privilege to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have sufficient privilege to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/interceptors' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
    post:
      tags:
      - interceptors
      operationId: Create an Interceptor
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      requestBody:
        description: The interceptor to create.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Interceptor'
            example:
              name: myEncryptionInterceptor
              pluginClass: io.conduktor.gateway.interceptor.EncryptPlugin
              priority: 50
              config:
                topic: topicName
        required: true
      responses:
        '201':
          description: ''
        '400':
          description: The cluster is not a valid gateway cluster
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The cluster is not a valid gateway cluster
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have sufficient privilege to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have sufficient privilege to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '409':
          description: The interceptor already exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Conflict'
              example:
                msg: The interceptor already exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request POST \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/interceptors' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"name":"myEncryptionInterceptor","pluginClass":"io.conduktor.gateway.interceptor.EncryptPlugin","priority":50,"config":{"topic":"topicName"}}' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/plugins:
    get:
      tags:
      - interceptors
      operationId: Get plugins
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      responses:
        '200':
          description: All plugins available on the cluster.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Plugin'
              example:
              - plugin: io.conduktor.gateway.interceptor.chaos.SimulateSlowProducersConsumersPlugin
                pluginId: io.conduktor.gateway.interceptor.chaos.SimulateSlowProducersConsumersPlugin
                tags:
                  parent: Console
                  description: Validate your application behaves correctly when broker
                    errors occur.
                  license: enterprise
                  version: 1.0.1-SNAPSHOT
                  title: Broker errors
        '400':
          description: The cluster is not a valid gateway cluster
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The cluster is not a valid gateway cluster
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have sufficient privilege to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have sufficient privilege to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/plugins' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/plugins/{pluginId}:
    get:
      tags:
      - interceptors
      operationId: Get a plugin
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      - name: pluginId
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: Get a specific plugin available on the cluster.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PluginWithReadme'
              example:
                plugin: io.conduktor.gateway.interceptor.chaos.SimulateSlowProducersConsumersPlugin
                pluginId: io.conduktor.gateway.interceptor.chaos.SimulateSlowProducersConsumersPlugin
                tags:
                  parent: Console
                  description: Validate your application behaves correctly when broker
                    errors occur.
                  license: enterprise
                  version: 1.0.1-SNAPSHOT
                  title: Broker errors
                readme: "---\nversion: 1.0.1-SNAPSHOT\ntitle: Broker errors\ndescription:\
                  \ Validate your application behaves correctly when broker errors\
                  \ occur.\nparent: chaos\nlicense: enterprise\n---\n\n## What is\
                  \ Broken broker chaos?\n\nThis interceptor inject intermittent errors\
                  \ in client connections to brokers that are consistent with broker\
                  \ side  issues. \n\nThis only works on Produce requests and Fetch\
                  \ requests.\n\n## Configuration\n\n| config        | type | description\
                  \                                                              \
                  \                                                              \
                  \                                         |\n|:--------------|------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|\n\
                  | rateInPercent | int  | The percentage of requests that will result\
                  \ in a broker not available response                           \
                  \                                                              \
                  \         |\n| errorMap      | Map  | Map of ApiKeys and Error you\
                  \ want to response, not required.Default errorMap when errorMap\
                  \ is not configured:FETCH: UNKNOWN_SERVER_ERRORPRODUCE: CORRUPT_MESSAGE\
                  \ |\n\n## Possible Error for Api Key\n\n### [FETCH](https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/requests/FetchResponse.java#L48-L65):\n\
                  \n- OFFSET_OUT_OF_RANGE\n- TOPIC_AUTHORIZATION_FAILED\n- REPLICA_NOT_AVAILABLE\n\
                  - NOT_LEADER_OR_FOLLOWER\n- FENCED_LEADER_EPOCH\n- UNKNOWN_LEADER_EPOCH\n\
                  - UNKNOWN_TOPIC_OR_PARTITION\n- KAFKA_STORAGE_ERROR\n- UNSUPPORTED_COMPRESSION_TYPE\n\
                  - CORRUPT_MESSAGE\n- UNKNOWN_TOPIC_ID\n- FETCH_SESSION_TOPIC_ID_ERROR,\n\
                  - INCONSISTENT_TOPIC_ID,\n- UNKNOWN_SERVER_ERROR\n\n### [PRODUCE](https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/common/requests/ProduceResponse.java#L39-L53):\n\
                  \n- CORRUPT_MESSAGE,\n- UNKNOWN_TOPIC_OR_PARTITION,\n- NOT_LEADER_OR_FOLLOWER,\n\
                  - INVALID_TOPIC_EXCEPTION,\n- RECORD_LIST_TOO_LARGE,\n- NOT_ENOUGH_REPLICAS,\n\
                  - NOT_ENOUGH_REPLICAS_AFTER_APPEND,\n- INVALID_REQUIRED_ACKS,\n\
                  - TOPIC_AUTHORIZATION_FAILED,\n- UNSUPPORTED_FOR_MESSAGE_FORMAT,\n\
                  - INVALID_PRODUCER_EPOCH,\n- CLUSTER_AUTHORIZATION_FAILED,\n- TRANSACTIONAL_ID_AUTHORIZATION_FAILED,\n\
                  - INVALID_RECORD\n\n## Example\n\n```yaml\n    name: myBrokenBrokerChaosInterceptor\n\
                  \    pluginClass: io.conduktor.gateway.interceptor.BrokenBrokerChaosPlugin\n\
                  \    priority: 100\n    config:\n      - key: rateInPercent\n  \
                  \      value: 100\n      - key: errorMap\n        value:\n     \
                  \     FETCH: UNKNOWN_SERVER_ERROR\n          PRODUCE: CORRUPT_MESSAGE\n\
                  ```"
        '400':
          description: The cluster is not a valid gateway cluster
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The cluster is not a valid gateway cluster
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have sufficient privilege to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have sufficient privilege to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request GET \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/plugins/io.conduktor.gateway.interceptor.chaos.SimulateSlowProducersConsumersPlugin' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/interceptors/{interceptorName}:
    put:
      tags:
      - interceptors
      operationId: Update an Interceptor
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      - name: interceptorName
        in: path
        required: true
        schema:
          type: string
      requestBody:
        description: The interceptor to update.
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateInterceptor'
            example:
              pluginClass: io.conduktor.gateway.interceptor.EncryptPlugin
              priority: 50
              config:
                topic: topicName
        required: true
      responses:
        '204':
          description: ''
        '400':
          description: The cluster is not a valid gateway cluster
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The cluster is not a valid gateway cluster
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have sufficient privilege to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have sufficient privilege to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request PUT \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/interceptors/name' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"pluginClass":"io.conduktor.gateway.interceptor.EncryptPlugin","priority":50,"config":{"topic":"topicName"}}' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/interceptors/{technicalId}:
    delete:
      tags:
      - interceptors
      operationId: Delete a plugin
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      - name: technicalId
        in: path
        required: true
        schema:
          type: string
      responses:
        '200':
          description: ''
        '400':
          description: The cluster is not a valid gateway cluster
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BadRequest'
              example:
                msg: The cluster is not a valid gateway cluster
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have sufficient privilege to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have sufficient privilege to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request DELETE \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/interceptors/name' \
            --header 'Authorization: Bearer $BEARER' \
            --location \
            --max-redirs 32
  /public/v1/clusters/{technicalId}/topics:
    post:
      tags:
      - topic
      operationId: List topic on a kafka cluster
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TopicListRequest'
            example:
              page: 1
              itemsPerPage: 20
              filter:
              - contains: opi
                type: OnTopicName
              - is: compact
                type: CleanupPolicyFilter
              sort: ByMessageCount
              descSort: true
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TopicResponse'
              example:
              - name: topic
                replicationFactor: 3
                partitionCount: 3
                recordCount: 191829
                topicSize: 42390
                cleanupPolicy: compact
                retentionInSize: -1
                retentionInMs: -1
                minIsr: 1
        '400':
          description: 'Invalid value for: body'
          content:
            text/plain:
              schema:
                type: string
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.topics.read"
            to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.topics.read"
                  to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request POST \
            --url 'http://localhost:8080/public/v1/clusters/my-cluster/topics' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"page":1,"itemsPerPage":20,"filter":[{"contains":"opi","type":"OnTopicName"},{"is":"compact","type":"CleanupPolicyFilter"}],"sort":"ByMessageCount","descSort":true}' \
            --location \
            --max-redirs 32
  /public/v1/cluster/{technicalId}/consumergroups:
    post:
      tags:
      - consumergroup
      operationId: List consumer group
      parameters:
      - name: technicalId
        in: path
        description: Technical id of the cluster
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConsumerGroupRequest'
            example:
              page: 1
              itemsPerPage: 20
              filter:
              - contains: opi
                type: OnConsumerGroupName
              - is:
                  type: Dead
                type: OnState
              sort: ByOverallLagInMs
              descSort: true
        required: true
      responses:
        '200':
          description: ''
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ConsumerGroupResponse'
              example:
              - name: cg1
                state:
                  type: Dead
                overallLag: 542
                overallLagInMs: 1289
                topics:
                - topic1
        '400':
          description: 'Invalid value for: body'
          content:
            text/plain:
              schema:
                type: string
        '401':
          description: The user is not authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Unauthorized'
              example:
                msg: The user is not authenticated
        '403':
          description: The user doesn't have the required permission(s) "kafka.groups.describe"
            to do this operation
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Forbidden'
              example:
                msg: The user doesn't have the required permission(s) "kafka.groups.describe"
                  to do this operation
        '404':
          description: No cluster with this technical id exist
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NotFound'
              example:
                what: No cluster with this technical id exist
        '500':
          description: An unexpected error occurred in the server
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ServerError'
              example:
                msg: An unexpected error occurred in the server
      security:
      - httpAuth: []
      x-codeSamples:
      - lang: Shell + Curl
        source: |-
          curl \
            --request POST \
            --url 'http://localhost:8080/public/v1/cluster/my-cluster/consumergroups' \
            --header 'Authorization: Bearer $BEARER' \
            --header 'Content-Type: application/json' \
            --data-raw '{"page":1,"itemsPerPage":20,"filter":[{"contains":"opi","type":"OnConsumerGroupName"},{"is":{"type":"Dead"},"type":"OnState"}],"sort":"ByOverallLagInMs","descSort":true}' \
            --location \
            --max-redirs 32
components:
  schemas:
    AccessControlEntry:
      required:
      - principal
      - host
      - operation
      - permissionType
      type: object
      properties:
        principal:
          $ref: '#/components/schemas/AclPrincipal'
        host:
          type: string
        operation:
          $ref: '#/components/schemas/AclOperationForAccessControlEntry'
        permissionType:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
    AclBinding:
      required:
      - pattern
      - entry
      type: object
      properties:
        pattern:
          $ref: '#/components/schemas/ResourcePattern'
        entry:
          $ref: '#/components/schemas/AccessControlEntry'
    AclForResourceAndHost:
      required:
      - pattern
      - host
      - operationStates
      type: object
      properties:
        pattern:
          $ref: '#/components/schemas/ResourcePattern'
        host:
          type: string
        operationStates:
          $ref: '#/components/schemas/OperationStates'
    AclOperationForAccessControlEntry:
      type: string
      enum:
      - Unknown
      - All
      - Read
      - Write
      - Create
      - Delete
      - Alter
      - Describe
      - ClusterAction
      - DescribeConfigs
      - AlterConfigs
      - IdempotentWrite
      - CreateTokens
      - DescribeTokens
    AclPermissionTypeForAccessControlEntry:
      type: string
      enum:
      - Unknown
      - Deny
      - Allow
    AclPrincipal:
      required:
      - type
      - name
      type: object
      properties:
        type:
          type: string
        name:
          type: string
    Aiven:
      required:
      - apiToken
      - project
      - serviceName
      - type
      type: object
      properties:
        apiToken:
          type: string
        project:
          type: string
        serviceName:
          type: string
        type:
          type: string
    AivenAcl:
      required:
      - id
      - permission
      - topic
      - username
      type: object
      properties:
        id:
          type: string
        permission:
          type: string
        topic:
          type: string
        username:
          type: string
    AivenAclCreatePayload:
      required:
      - permission
      - topic
      type: object
      properties:
        permission:
          $ref: '#/components/schemas/AivenAclPermission'
        topic:
          type: string
    AivenAclPermission:
      type: string
      enum:
      - read
      - write
      - readwrite
      - admin
    AivenAclsCreateRequest:
      type: object
      properties:
        acls:
          type: array
          items:
            $ref: '#/components/schemas/AivenAclCreatePayload'
        schemaRegistryAcls:
          type: array
          items:
            $ref: '#/components/schemas/AivenSRAclCreatePayload'
    AivenListAclResponse:
      type: object
      properties:
        acls:
          type: array
          items:
            $ref: '#/components/schemas/AivenAcl'
        schemaRegistryAcls:
          type: array
          items:
            $ref: '#/components/schemas/AivenSchemaRegistryAcl'
    AivenSRAclCreatePayload:
      required:
      - permission
      - resource
      type: object
      properties:
        permission:
          $ref: '#/components/schemas/AivenSchemaRegistryAclPermission'
        resource:
          type: string
    AivenSchemaRegistryAcl:
      required:
      - id
      - permission
      - resource
      - username
      type: object
      properties:
        id:
          type: string
        permission:
          type: string
        resource:
          type: string
        username:
          type: string
    AivenSchemaRegistryAclPermission:
      type: string
      enum:
      - schema_registry_read
      - schema_registry_write
    AivenServiceAccountCreateRequest:
      required:
      - username
      type: object
      properties:
        username:
          type: string
    AivenServiceAccountCreateResponse:
      required:
      - access_cert
      - access_key
      - password
      - type
      - username
      type: object
      properties:
        access_cert:
          type: string
        access_key:
          type: string
        password:
          type: string
        type:
          type: string
        username:
          type: string
    AllAclForPrincipal:
      required:
      - aclPrincipal
      type: object
      properties:
        aclPrincipal:
          $ref: '#/components/schemas/AclPrincipal'
        acls:
          type: array
          items:
            $ref: '#/components/schemas/AclForResourceAndHost'
    AmazonSecurity:
      oneOf:
      - $ref: '#/components/schemas/Credentials'
      - $ref: '#/components/schemas/FromContext'
      - $ref: '#/components/schemas/FromRole'
      - $ref: '#/components/schemas/IAMAnywhere'
      discriminator:
        propertyName: type
        mapping:
          Credentials: '#/components/schemas/Credentials'
          FromContext: '#/components/schemas/FromContext'
          FromRole: '#/components/schemas/FromRole'
          IAMAnywhere: '#/components/schemas/IAMAnywhere'
    ApiKey:
      required:
      - key
      - description
      - createdAt
      - secret
      type: object
      properties:
        key:
          type: string
        description:
          type: string
        createdAt:
          type: string
          format: date-time
        secret:
          type: string
    BadRequest:
      required:
      - msg
      type: object
      properties:
        msg:
          type: string
    BasicAuth:
      required:
      - username
      - password
      - type
      type: object
      properties:
        username:
          type: string
          minLength: 1
        password:
          type: string
        type:
          type: string
    BearerToken:
      required:
      - token
      - type
      type: object
      properties:
        token:
          type: string
          minLength: 1
        type:
          type: string
    CheckedCertificate:
      type: object
    CleanupPolicy:
      type: string
      enum:
      - delete
      - compact
      - compact,delete
    CleanupPolicyFilter:
      required:
      - is
      - type
      type: object
      properties:
        is:
          $ref: '#/components/schemas/CleanupPolicy'
        type:
          type: string
    Cluster:
      required:
      - clusterId
      - resourceType
      type: object
      properties:
        clusterId:
          type: string
          pattern: ^([0-9a-z\-]+|\*)$
        permissions:
          type: array
          items:
            type: string
            enum:
            - clusterViewBroker
            - clusterEditSRCompatibility
            - clusterEditBroker
            - clusterViewACL
            - clusterManageACL
        resourceType:
          type: string
          enum:
          - Platform
          - Cluster
          - Topic
          - ConsumerGroup
          - KafkaConnect
          - Subject
    Conflict:
      required:
      - msg
      type: object
      properties:
        msg:
          type: string
    Confluent:
      required:
      - key
      - secret
      - confluentEnvironmentId
      - confluentClusterId
      - type
      type: object
      properties:
        key:
          type: string
        secret:
          type: string
        confluentEnvironmentId:
          type: string
        confluentClusterId:
          type: string
        type:
          type: string
    ConfluentLikeSchemaRegistryRequest:
      required:
      - url
      - type
      type: object
      properties:
        url:
          type: string
        security:
          $ref: '#/components/schemas/ConfluentLikeSchemaRegistrySecurity'
        properties:
          type: string
        ignoreUntrustedCertificate:
          type: boolean
        type:
          type: string
    ConfluentLikeSchemaRegistryResponse:
      required:
      - id
      - url
      - security
      - ignoreUntrustedCertificate
      - type
      type: object
      properties:
        id:
          type: string
          format: uuid
        url:
          type: string
        security:
          $ref: '#/components/schemas/ConfluentLikeSchemaRegistrySecurity'
        properties:
          type: string
        ignoreUntrustedCertificate:
          type: boolean
        type:
          type: string
    ConfluentLikeSchemaRegistrySecurity:
      oneOf:
      - $ref: '#/components/schemas/BasicAuth'
      - $ref: '#/components/schemas/BearerToken'
      - $ref: '#/components/schemas/NoSecurity'
      - $ref: '#/components/schemas/SSLAuth'
      discriminator:
        propertyName: type
        mapping:
          BasicAuth: '#/components/schemas/BasicAuth'
          BearerToken: '#/components/schemas/BearerToken'
          NoSecurity: '#/components/schemas/NoSecurity'
          SSLAuth: '#/components/schemas/SSLAuth'
    ConsumerGroup:
      required:
      - clusterId
      - consumerGroupPattern
      - resourceType
      type: object
      properties:
        clusterId:
          type: string
          pattern: ^([0-9a-z\-]+|\*)$
        consumerGroupPattern:
          type: string
        permissions:
          type: array
          items:
            type: string
            enum:
            - consumerGroupCreate
            - consumerGroupReset
            - consumerGroupDelete
            - consumerGroupView
        resourceType:
          type: string
          enum:
          - Platform
          - Cluster
          - Topic
          - ConsumerGroup
          - KafkaConnect
          - Subject
    ConsumerGroupFilter:
      oneOf:
      - $ref: '#/components/schemas/OnConsumerGroupName'
      - $ref: '#/components/schemas/OnState'
      discriminator:
        propertyName: type
        mapping:
          OnConsumerGroupName: '#/components/schemas/OnConsumerGroupName'
          OnState: '#/components/schemas/OnState'
    ConsumerGroupRequest:
      required:
      - page
      - itemsPerPage
      - sort
      - descSort
      type: object
      properties:
        page:
          type: integer
          format: int32
        itemsPerPage:
          type: integer
          format: int32
        filter:
          type: array
          items:
            $ref: '#/components/schemas/ConsumerGroupFilter'
        sort:
          $ref: '#/components/schemas/ConsumerGroupSort'
        descSort:
          type: boolean
    ConsumerGroupResponse:
      required:
      - name
      - state
      type: object
      properties:
        name:
          type: string
        state:
          $ref: '#/components/schemas/ConsumerGroupState'
        overallLag:
          type: integer
          format: int64
        overallLagInMs:
          type: integer
          format: int32
        topics:
          type: array
          items:
            type: string
    ConsumerGroupSort:
      type: string
      enum:
      - ByName
      - ByState
      - ByOverallLag
      - ByOverallLagInMs
    ConsumerGroupState:
      type: string
      enum:
      - Unknown
      - PreparingRebalance
      - CompletingRebalance
      - Stable
      - Dead
      - Empty
    CreateApiKey:
      required:
      - name
      - description
      type: object
      properties:
        name:
          type: string
        description:
          type: string
    CreateCertificateFromFileRequest:
      required:
      - file
      type: object
      properties:
        file:
          type: string
          format: binary
        jksPassword:
          type: string
    CreateCertificateRequest:
      required:
      - input
      type: object
      properties:
        input:
          type: string
    CreateServiceAccount:
      required:
      - name
      - description
      type: object
      properties:
        name:
          type: string
          pattern: ^[0-9a-zA-Z_\-]+$
        description:
          type: string
    CreateUserRequest:
      required:
      - email
      type: object
      properties:
        lastName:
          type: string
        firstName:
          type: string
        email:
          type: string
    Credentials:
      required:
      - accessKeyId
      - secretKey
      - type
      type: object
      properties:
        accessKeyId:
          type: string
          minLength: 1
        secretKey:
          type: string
          minLength: 1
        type:
          type: string
    DecodedCertificate:
      required:
      - id
      - version
      - serialNumber
      - issuerDN
      - subjectDN
      - notBefore
      - notAfter
      type: object
      properties:
        id:
          type: integer
          format: int32
        version:
          type: integer
          format: int32
        serialNumber:
          type: integer
        issuerDN:
          type: string
        subjectDN:
          type: string
        notBefore:
          type: string
          format: date-time
        notAfter:
          type: string
          format: date-time
    Forbidden:
      type: object
      properties:
        msg:
          type: string
    FromContext:
      required:
      - type
      type: object
      properties:
        profile:
          type: string
          minLength: 1
        type:
          type: string
    FromRole:
      required:
      - role
      - type
      type: object
      properties:
        role:
          type: string
          minLength: 1
        type:
          type: string
    Gateway:
      required:
      - url
      - user
      - password
      - virtualCluster
      - type
      type: object
      properties:
        url:
          type: string
        user:
          type: string
        password:
          type: string
        virtualCluster:
          type: string
        type:
          type: string
    GlueSchemaRegistryRequest:
      required:
      - region
      - security
      - type
      type: object
      properties:
        registryName:
          type: string
          minLength: 1
        region:
          type: string
          minLength: 1
        security:
          $ref: '#/components/schemas/AmazonSecurity'
        type:
          type: string
    GlueSchemaRegistryResponse:
      required:
      - id
      - region
      - security
      - type
      type: object
      properties:
        id:
          type: string
          format: uuid
        registryName:
          type: string
          minLength: 1
        region:
          type: string
          minLength: 1
        security:
          $ref: '#/components/schemas/AmazonSecurity'
        type:
          type: string
    IAMAnywhere:
      required:
      - trustAnchorArn
      - profileArn
      - roleArn
      - certificate
      - privateKey
      - type
      type: object
      properties:
        trustAnchorArn:
          type: string
          minLength: 1
        profileArn:
          type: string
          minLength: 1
        roleArn:
          type: string
          minLength: 1
        certificate:
          type: string
          minLength: 1
        privateKey:
          type: string
          minLength: 1
        type:
          type: string
    Interceptor:
      required:
      - name
      - pluginClass
      - priority
      - config
      type: object
      properties:
        name:
          type: string
        pluginClass:
          type: string
        priority:
          type: integer
          format: int32
        config: {}
    KafkaConnect:
      required:
      - clusterId
      - connectClusterId
      - connectorNamePattern
      - resourceType
      type: object
      properties:
        clusterId:
          type: string
          pattern: ^([0-9a-z\-]+|\*)$
        connectClusterId:
          type: string
          pattern: ^([a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}|\*)$
        connectorNamePattern:
          type: string
        permissions:
          type: array
          items:
            type: string
            enum:
            - kafkaConnectorViewConfig
            - kafkaConnectorStatus
            - kafkaConnectorEditConfig
            - kafkaConnectorDelete
            - kafkaConnectorUpdate
            - kafkaConnectorCreate
            - kafkaConnectPauseResume
            - kafkaConnectRestart
        resourceType:
          type: string
          enum:
          - Platform
          - Cluster
          - Topic
          - ConsumerGroup
          - KafkaConnect
          - Subject
    KafkaConnect1:
      required:
      - url
      - name
      type: object
      properties:
        url:
          type: string
        slug:
          type: string
          minLength: 1
        name:
          type: string
          minLength: 1
        security:
          $ref: '#/components/schemas/KafkaConnectSecurity'
        headers:
          type: string
        ignoreUntrustedCertificate:
          type: boolean
    KafkaConnectBasicAuth:
      required:
      - username
      - password
      - type
      type: object
      properties:
        username:
          type: string
          minLength: 1
        password:
          type: string
        type:
          type: string
    KafkaConnectBearerToken:
      required:
      - token
      - type
      type: object
      properties:
        token:
          type: string
          minLength: 1
        type:
          type: string
    KafkaConnectNoSecurity:
      required:
      - type
      type: object
      properties:
        type:
          type: string
    KafkaConnectSSLAuth:
      required:
      - key
      - certificateChain
      - type
      type: object
      properties:
        key:
          type: string
          minLength: 1
        certificateChain:
          type: string
          minLength: 1
        type:
          type: string
    KafkaConnectSecurity:
      oneOf:
      - $ref: '#/components/schemas/KafkaConnectBasicAuth'
      - $ref: '#/components/schemas/KafkaConnectBearerToken'
      - $ref: '#/components/schemas/KafkaConnectNoSecurity'
      - $ref: '#/components/schemas/KafkaConnectSSLAuth'
      discriminator:
        propertyName: type
        mapping:
          KafkaConnectBasicAuth: '#/components/schemas/KafkaConnectBasicAuth'
          KafkaConnectBearerToken: '#/components/schemas/KafkaConnectBearerToken'
          KafkaConnectNoSecurity: '#/components/schemas/KafkaConnectNoSecurity'
          KafkaConnectSSLAuth: '#/components/schemas/KafkaConnectSSLAuth'
    KafkaConnectWithId:
      required:
      - id
      - slug
      - url
      - name
      - security
      - ignoreUntrustedCertificate
      type: object
      properties:
        id:
          type: string
          format: uuid
        slug:
          type: string
          minLength: 1
        url:
          type: string
        name:
          type: string
          minLength: 1
        security:
          $ref: '#/components/schemas/KafkaConnectSecurity'
        headers:
          type: string
        ignoreUntrustedCertificate:
          type: boolean
    KafkaFlavor:
      oneOf:
      - $ref: '#/components/schemas/Aiven'
      - $ref: '#/components/schemas/Confluent'
      - $ref: '#/components/schemas/Gateway'
      discriminator:
        propertyName: type
        mapping:
          Aiven: '#/components/schemas/Aiven'
          Confluent: '#/components/schemas/Confluent'
          Gateway: '#/components/schemas/Gateway'
    Map_String:
      type: object
      additionalProperties:
        type: string
    Map_Type_List_ResourcePermissions:
      type: object
      additionalProperties:
        type: array
        items:
          $ref: '#/components/schemas/ResourcePermissions'
    NoSecurity:
      required:
      - type
      type: object
      properties:
        type:
          type: string
    NotFound:
      required:
      - what
      type: object
      properties:
        what:
          type: string
    OnConsumerGroupName:
      required:
      - contains
      - type
      type: object
      properties:
        contains:
          type: string
        type:
          type: string
    OnState:
      required:
      - is
      - type
      type: object
      properties:
        is:
          $ref: '#/components/schemas/ConsumerGroupState'
        type:
          type: string
    OnTopicName:
      required:
      - contains
      - type
      type: object
      properties:
        contains:
          type: string
        type:
          type: string
    OperationStates:
      type: object
      properties:
        Unknown:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
        All:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
        Read:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
        Write:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
        Create:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
        Delete:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
        Alter:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
        Describe:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
        ClusterAction:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
        DescribeConfigs:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
        AlterConfigs:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
        IdempotentWrite:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
        CreateTokens:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
        DescribeTokens:
          $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
      additionalProperties:
        $ref: '#/components/schemas/AclPermissionTypeForAccessControlEntry'
    PatternTypeForResourcePattern:
      type: string
      enum:
      - Literal
      - Prefixed
      - Unknown
    Platform:
      required:
      - resourceType
      type: object
      properties:
        permissions:
          type: array
          items:
            type: string
            enum:
            - auditLogView
            - taasView
            - taasManage
            - certificateManage
            - userManage
            - clusterConnectionsManage
            - notificationChannelManage
            - datamaskingView
            - testingView
            - datamaskingManage
        resourceType:
          type: string
          enum:
          - Platform
          - Cluster
          - Topic
          - ConsumerGroup
          - KafkaConnect
          - Subject
    Plugin:
      required:
      - plugin
      - pluginId
      - tags
      type: object
      properties:
        plugin:
          type: string
        pluginId:
          type: string
        tags:
          $ref: '#/components/schemas/Map_String'
    PluginWithReadme:
      required:
      - plugin
      - pluginId
      - tags
      - readme
      type: object
      properties:
        plugin:
          type: string
        pluginId:
          type: string
        tags:
          $ref: '#/components/schemas/Map_String'
        readme:
          type: string
    PublicCreateGroupRequest:
      required:
      - name
      - groupId
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        groupId:
          type: string
          pattern: ^[0-9a-z\_-]+$
        externalGroups:
          type: array
          items:
            type: string
    PublicGroupOfUser:
      required:
      - name
      - groupId
      type: object
      properties:
        name:
          type: string
        groupId:
          type: string
          pattern: ^[0-9a-z\_-]+$
    PublicGroupResponse:
      required:
      - groupId
      - name
      - isAdmin
      type: object
      properties:
        groupId:
          type: string
          pattern: ^[0-9a-z\_-]+$
        name:
          type: string
        description:
          type: string
        users:
          type: array
          items:
            $ref: '#/components/schemas/PublicUserOfGroup'
        externalGroups:
          type: array
          items:
            type: string
        isAdmin:
          type: boolean
    PublicSharedClusterResponse:
      required:
      - technicalId
      - name
      - bootstrapServers
      - ignoreUntrustedCertificate
      - createdAt
      - updatedAt
      type: object
      properties:
        technicalId:
          type: string
          pattern: ^[0-9a-z\-]+$
        name:
          type: string
          minLength: 1
        bootstrapServers:
          type: string
          minLength: 1
        zookeeperServer:
          type: string
        properties:
          type: string
        color:
          type: string
          pattern: ^#([0-9a-fA-F]{6})$
        icon:
          type: string
          minLength: 1
        schemaRegistry:
          $ref: '#/components/schemas/SchemaRegistryWithId'
        kafkaConnects:
          type: array
          items:
            $ref: '#/components/schemas/KafkaConnectWithId'
        ignoreUntrustedCertificate:
          type: boolean
        serverCa:
          type: string
          minLength: 1
        accessCert:
          type: string
          minLength: 1
        accessKey:
          type: string
          minLength: 1
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        amazonSecurity:
          $ref: '#/components/schemas/AmazonSecurity'
        kafkaFlavor:
          $ref: '#/components/schemas/KafkaFlavor'
    PublicUserOfGroup:
      required:
      - email
      - externalMapping
      type: object
      properties:
        email:
          type: string
        externalMapping:
          type: boolean
    PublicWithAllDetailsAndGroup:
      required:
      - userId
      - fullName
      type: object
      properties:
        userId:
          type: string
        firstName:
          type: string
        lastName:
          type: string
        fullName:
          type: string
        pictureUrl:
          type: string
        phoneNumber:
          type: string
        country:
          type: string
        platformRole:
          type: string
        groups:
          type: array
          items:
            $ref: '#/components/schemas/PublicGroupOfUser'
    ResourcePattern:
      required:
      - resourceType
      - name
      - patternType
      type: object
      properties:
        resourceType:
          $ref: '#/components/schemas/ResourceTypeForResourcePattern'
        name:
          type: string
        patternType:
          $ref: '#/components/schemas/PatternTypeForResourcePattern'
    ResourcePermissions:
      oneOf:
      - $ref: '#/components/schemas/Cluster'
      - $ref: '#/components/schemas/ConsumerGroup'
      - $ref: '#/components/schemas/KafkaConnect'
      - $ref: '#/components/schemas/Platform'
      - $ref: '#/components/schemas/Subject'
      - $ref: '#/components/schemas/Topic'
      discriminator:
        propertyName: resourceType
    ResourceTypeForResourcePattern:
      type: string
      enum:
      - Unknown
      - Topic
      - Group
      - Cluster
      - TransactionalId
      - DelegationToken
      - User
    SSLAuth:
      required:
      - key
      - certificateChain
      - type
      type: object
      properties:
        key:
          type: string
          minLength: 1
        certificateChain:
          type: string
          minLength: 1
        type:
          type: string
    SchemaRegistryRequest:
      oneOf:
      - $ref: '#/components/schemas/ConfluentLikeSchemaRegistryRequest'
      - $ref: '#/components/schemas/GlueSchemaRegistryRequest'
      discriminator:
        propertyName: type
        mapping:
          ConfluentLikeSchemaRegistryRequest: '#/components/schemas/ConfluentLikeSchemaRegistryRequest'
          GlueSchemaRegistryRequest: '#/components/schemas/GlueSchemaRegistryRequest'
    SchemaRegistryWithId:
      oneOf:
      - $ref: '#/components/schemas/ConfluentLikeSchemaRegistryResponse'
      - $ref: '#/components/schemas/GlueSchemaRegistryResponse'
      discriminator:
        propertyName: type
        mapping:
          ConfluentLikeSchemaRegistryResponse: '#/components/schemas/ConfluentLikeSchemaRegistryResponse'
          GlueSchemaRegistryResponse: '#/components/schemas/GlueSchemaRegistryResponse'
    ServerError:
      required:
      - msg
      type: object
      properties:
        msg:
          type: string
    ServiceAccount:
      required:
      - resourceId
      - internalId
      - serviceName
      - description
      type: object
      properties:
        resourceId:
          type: string
        internalId:
          type: integer
          format: int32
        serviceName:
          type: string
        description:
          type: string
    Subject:
      required:
      - clusterId
      - subjectPattern
      - resourceType
      type: object
      properties:
        clusterId:
          type: string
          pattern: ^([0-9a-z\-]+|\*)$
        subjectPattern:
          type: string
        permissions:
          type: array
          items:
            type: string
            enum:
            - subjectCreateUpdate
            - subjectDelete
            - subjectEditCompatibility
            - subjectView
        resourceType:
          type: string
          enum:
          - Platform
          - Cluster
          - Topic
          - ConsumerGroup
          - KafkaConnect
          - Subject
    TlsNotSupported:
      type: object
    TlsStatus:
      oneOf:
      - $ref: '#/components/schemas/CheckedCertificate'
      - $ref: '#/components/schemas/TlsNotSupported'
      - $ref: '#/components/schemas/UncheckedCertificate'
      - $ref: '#/components/schemas/UnexpectedStatus'
      - $ref: '#/components/schemas/UnreachableTarget'
    TlsTestRequest:
      required:
      - host
      - port
      type: object
      properties:
        host:
          type: string
        port:
          type: integer
          format: int32
    TlsTestResponse:
      required:
      - status
      type: object
      properties:
        status:
          $ref: '#/components/schemas/TlsStatus'
    TooManyRequest:
      type: object
      properties:
        msg:
          type: string
    Topic:
      required:
      - clusterId
      - topicPattern
      - resourceType
      type: object
      properties:
        clusterId:
          type: string
          pattern: ^([0-9a-z\-]+|\*)$
        topicPattern:
          type: string
        permissions:
          type: array
          items:
            type: string
            enum:
            - topicViewConfig
            - topicEmpty
            - topicConsume
            - topicProduce
            - topicEditConfig
            - topicCreate
            - topicAddPartition
            - topicDelete
        resourceType:
          type: string
          enum:
          - Platform
          - Cluster
          - Topic
          - ConsumerGroup
          - KafkaConnect
          - Subject
    TopicListFilter:
      oneOf:
      - $ref: '#/components/schemas/CleanupPolicyFilter'
      - $ref: '#/components/schemas/OnTopicName'
      discriminator:
        propertyName: type
        mapping:
          CleanupPolicyFilter: '#/components/schemas/CleanupPolicyFilter'
          OnTopicName: '#/components/schemas/OnTopicName'
    TopicListRequest:
      required:
      - page
      - itemsPerPage
      - sort
      - descSort
      type: object
      properties:
        page:
          type: integer
          format: int32
        itemsPerPage:
          type: integer
          format: int32
        filter:
          type: array
          items:
            $ref: '#/components/schemas/TopicListFilter'
        sort:
          $ref: '#/components/schemas/TopicListSort'
        descSort:
          type: boolean
    TopicListSort:
      type: string
      enum:
      - ByName
      - ByReplicationFactor
      - ByNumPartition
      - ByMessageCount
      - ByTopicSizeByte
      - ByCleanupPolicy
      - ByRetentionTimes
      - ByMinIsr
    TopicResponse:
      required:
      - name
      - replicationFactor
      - partitionCount
      - recordCount
      - topicSize
      - cleanupPolicy
      - retentionInSize
      - retentionInMs
      - minIsr
      type: object
      properties:
        name:
          type: string
        replicationFactor:
          type: integer
          format: int32
        partitionCount:
          type: integer
          format: int32
        recordCount:
          type: integer
          format: int32
        topicSize:
          type: integer
        cleanupPolicy:
          $ref: '#/components/schemas/CleanupPolicy'
        retentionInSize:
          type: integer
          format: int32
        retentionInMs:
          type: integer
          format: int32
        minIsr:
          type: integer
          format: int32
    Unauthorized:
      type: object
      properties:
        msg:
          type: string
    UncheckedCertificate:
      type: object
    UnexpectedStatus:
      type: object
    UnreachableTarget:
      type: object
    UpdateGroupRequest:
      required:
      - name
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        externalGroups:
          type: array
          items:
            type: string
    UpdateInterceptor:
      required:
      - pluginClass
      - priority
      - config
      type: object
      properties:
        pluginClass:
          type: string
        priority:
          type: integer
          format: int32
        config: {}
    UpsertSharedClusterRequest:
      required:
      - name
      - bootstrapServers
      type: object
      properties:
        name:
          type: string
          minLength: 1
        bootstrapServers:
          type: string
          minLength: 1
        properties:
          type: string
        color:
          type: string
          pattern: ^#([0-9a-fA-F]{6})$
        icon:
          type: string
          minLength: 1
        schemaRegistry:
          $ref: '#/components/schemas/SchemaRegistryRequest'
        kafkaConnects:
          type: array
          items:
            $ref: '#/components/schemas/KafkaConnect1'
        ignoreUntrustedCertificate:
          type: boolean
        amazonSecurity:
          $ref: '#/components/schemas/AmazonSecurity'
        kafkaFlavor:
          $ref: '#/components/schemas/KafkaFlavor'
    UserPermissions:
      required:
      - groups
      type: object
      properties:
        user:
          type: array
          items:
            $ref: '#/components/schemas/ResourcePermissions'
        groups:
          $ref: '#/components/schemas/Map_Type_List_ResourcePermissions'
  securitySchemes:
    httpAuth:
      type: http
      scheme: bearer
